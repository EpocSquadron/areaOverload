/* areaOverload
 C *opyright Â© 2011  Daniel S. Poulin

 This plugin is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This plugin is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
(function(a){var h={outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight,offset:a.fn.offset,position:a.fn.position};newelSelector="area";var i={areaDimensions:function(e,c){var d={height:0,width:0},b=a.map(c.split(","),function(a){return parseFloat(a)});switch(e){case "rect":d.height=b[2]-b[0];d.width=b[3]-b[1];break;case "circle":d.height=2*b[2];d.width=2*b[2];break;case "poly":for(var f=1E11,h=0,i=1E10,j=0,g=0;g<b.length();g+=2)b[g]<j&&(j=b[g]),b[g+1]<f&&(f=b[g+1]),b[g]>i&&(i=b[g]),b[g+1]>h&&
(h=b[g+1]);d.height=h-f;d.width=i-j}return d},areaPosition:function(e,c,d){var b={top:0,left:0},c=a.map(c.split(","),function(a){return parseFloat(a)});d&&a.extend(b,h.offset.apply(d));switch(e){case "rect":b.top+=c[1];b.left+=c[0];break;case "circle":b.top+=c[1]-c[2]/2;b.left+=c[0]-c[2]/2;break;case "poly":for(var e=1E11,f=d=0;f<c.length();f+=2)c[f]<d&&(d=c[f]),c[f+1]<e&&(e=c[f+1]);b.top+=e;b.left+=d}return b}};a.fn.outerWidth=function(e){return a(this).is(newelSelector)?i.areaDimensions(a(this).attr("shape"),
a(this).attr("coords")).width:h.outerWidth.apply(this,e)};a.fn.outerHeight=function(e){return a(this).is(newelSelector)?i.areaDimensions(a(this).attr("shape"),a(this).attr("coords")).height:h.outerHeight.apply(this,e)};a.fn.offset=function(e){return a(this).is(newelSelector)?(refimg=a(document).find('img[usemap="#'+a(this).parent().attr("id")+'"]'),i.areaPosition(a(this).attr("shape"),a(this).attr("coords"),refimg)):h.offset.apply(this,e)};a.fn.position=function(){return a(this).is(newelSelector)?
i.areaPosition(a(this).attr("shape"),a(this).attr("coords")):h.position.apply(this)}})(jQuery);